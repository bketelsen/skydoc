



                 SkyDNS: Distributed Service Discovery

Abstract

   SkyDNS is a distributed service for announcement and discovery of
   services.  It leverages Raft for high-availability and consensus, and
   utilizes DNS queries to discover available services.

Table of Contents

   1.  SkyDNS  . . . . . . . . . . . . . . . . . . . . . . . . . . .   1
   2.  Services  . . . . . . . . . . . . . . . . . . . . . . . . . .   2
     2.1.  Naming  . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Service Management  . . . . . . . . . . . . . . . . . . . . .   2
   4.  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   2
   5.  Service Discovery . . . . . . . . . . . . . . . . . . . . . .   2
   6.  Implementation  . . . . . . . . . . . . . . . . . . . . . . .   2
   7.  Security Considerationso  . . . . . . . . . . . . . . . . . .   3
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   3
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   0
     8.2.  URIs  . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   Appendix A.  License  . . . . . . . . . . . . . . . . . . . . . .   3
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  SkyDNS

   SkyDNS (Announcement Blog Post [1]) is a distributed service for
   announcement and discovery of services.  It leverages Raft ([Raft])
   for high-availability and consensus, and utilizes DNS queries to
   discover available services.  This is done by using SRV records in
   DNS, with special meaning given to subdomains, priorities and
   weights.

   SkyDNS will also act as a forwarding DNS proxy, so that you can set
   your SkyDNS instance as the primary DNS service in "/etc/resolv.conf"
   and SkyDNS will forward and proxy requests for which it is not
   authoritative.

   Besides serving SRV records, which include _all_ the information you
   need to connect to your service, SkyDNS will also return A records.
   This is useful if you already know what port a particular service is
   using, and you just want a list of IP addresses with known running
   instances.

   The development of SkyDNS takes place on Github ([SkyDNS-git]).
   SkyDNS is written in the Go language ([Golang]).  It is licenced
   under the MIT License, see Section 4#(License).




Ketelsen, et al.          Expires July 25, 2014                 [Page 1]

                                 SkyDNS                     January 2014


2.  Services

2.1.  Naming

   Service names are registered by a submitting an HTTP query (with JSON
   data) to SkyDNS, see Section 3 for more details.  Querying SkyDNS can
   be done either via HTTP or via the DNS (see Section 5).  SkyDNS
   divides the name for a service in different components, as follows:

   Name:  The name of your service, e.g., "rails" or "web".  Note that
      in this document we sometimes refer to this as Service.

   Environment:  Denotes the environment of the service, e.g.
      "production" or "testing".

   Region:  Where do these hosts live, e.g. "east", "west" or even
      "test".

   Version:  A version string, e.g. "1.0.1".

   Host:  The hostname of a machine running the service.

   A service name will use these components in a fixed order:

   "Host" "Version" "Region" "Name" "Environment"

   Each registered service has a time to live (TTL).  When the TTL
   expires the services is expunged from SkyDNS.

3.  Service Management

4.

   TODO

5.  Service Discovery

   TODO

6.  Implementation

   The current implementation of SkyDNS ([SkyDNS-git], consists out of
   server and a client library.  This client library is used in a
   command line tool "skydnsctl" which allows for easy registration and
   querying of SkyDNS.






Ketelsen, et al.          Expires July 25, 2014                 [Page 2]

                                 SkyDNS                     January 2014


7.  Security Considerationso

   TODO

8.  References

   [Golang]   "The Go Programming Language", 2011.

   [Raft]     Ongaro, D. and J. Ousterhout, "In Search of an
              Understandable Consensus Algorithm", October 2013.

   [SkyDNS-git]
              Martin, E., Ketelsen, B., Gieben, R., Carey, C., and C.
              Crosby, "SkyDNS Git repository", 2012.

8.2.  URIs

   [1] http://blog.gopheracademy.com/skydns

Appendix A.  License

   The MIT License (MIT)

   Copyright (C) 2013 Erik St. Martin, Brian Ketelsen

   Permission is hereby granted, free of charge, to any person obtaining
   a copy of this software and associated documentation files (the
   "Software"), to deal in the Software without restriction, including
   without limitation the rights to use, copy, modify, merge, publish,
   distribute, sublicense, and/or sell copies of the Software, and to
   permit persons to whom the Software is furnished to do so, subject to
   the following conditions:

   The above copyright notice and this permission notice shall be
   included in all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   NONINFRINGEMENT.  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
   BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
   ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
   CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   SOFTWARE.







Ketelsen, et al.          Expires July 25, 2014                 [Page 3]

                                 SkyDNS                     January 2014


Authors' Addresses

   Brian Ketelsen

   Email: bketelsen@gmail.com


   Erik St. Martin

   Email: alakriti@gmail.com


   R. (Miek) Gieben

   Email: miek@miek.nl
   URI:   http://miek.nl



































Ketelsen, et al.          Expires July 25, 2014                 [Page 4]
