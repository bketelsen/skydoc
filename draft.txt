



                 SkyDNS: Distributed Service Discovery

Abstract

   SkyDNS is a distributed service for announcement and discovery of
   services.  It leverages Raft for high-availability and consensus, and
   utilizes DNS queries to discover available services.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on July 24, 2014.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  SkyDNS  . . . . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Services  . . . . . . . . . . . . . . . . . . . . . . . . . .   2
     2.1.  Naming  . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Service Registration  . . . . . . . . . . . . . . . . . . . .   3
   4.  Service Discovery . . . . . . . . . . . . . . . . . . . . . .   3
   5.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   3



Ketelsen, et al.          Expires July 24, 2014                 [Page 1]

Internet-Draft                   SkyDNS                     January 2014


     5.1.  Normative References  . . . . . . . . . . . . . . . . . .   0
     5.2.  URIs  . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   Appendix A.  Back . . . . . . . . . . . . . . . . . . . . . . . .   3
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   3

1.  SkyDNS

   SkyDNS (Announcement Blog Post [1]) is a distributed service for
   announcement and discovery of services.  It leverages Raft ([Raft])
   for high-availability and consensus, and utilizes DNS queries to
   discover available services.  This is done by leveraging SRV records
   in DNS, with special meaning given to subdomains, priorities and
   weights.

   SkyDNS will also act as a forwarding DNS proxy, so that you can set
   your SkyDNS instance as the primary DNS service in "/etc/resolv.conf"
   and SkyDNS will forward and proxy requests for which it is not
   authoritative.

   Besides serving SRV records, which include _all_ the information you
   need to connect to your service, SkyDNS will also return A records.
   This is useful if you already know what port a particular service is
   using, and you just want a list of IP addresses with known running
   instances.

   The development of SkyDNS takes place on Github ([SkyDNS-git]).

2.  Services

2.1.  Naming

   Service names are registred by a submitting an HTTP query (with JSON
   data) to SkyDNS, see Section 3 for more details.  Querying SkyDNS can
   be done either via HTTP or via the DNS (see Section 4).  SkyDNS
   divides the name for a service in different components, as follows:

   Name:  The name of your service, e.g., "rails" or "web".  Note that
      in this document we sometimes refer to this as Service.

   Environment:  Denotes the environment of the service, e.g.
      "production" or "testing".

   Region:  Where do these hosts live, e.g. "east", "west" or even
      "test".

   Version:  A version string, e.g. "1.0.1".

   Host:  The hostname of a machine running the service.



Ketelsen, et al.          Expires July 24, 2014                 [Page 2]

Internet-Draft                   SkyDNS                     January 2014


   A service name will use these components in a fixed order:

   <Host>.<Version>.<Region>.<Name>.<Environment>

3.  Service Registration

   TODO

4.  Service Discovery

   TODO

5.  References

   [Raft]     Ongaro, D. and J. Ousterhout, "In Search of an
              Understandable Consensus Algorithm.", October 2013.

   [SkyDNS-git]
              Martin, E., Ketelsen, B., Gieben, R., Carey, C., and C.
              Crosby, "SkyDNS Git repository.", 2012.

5.2.  URIs

   [1] http://blog.gopheracademy.com/skydns

Appendix A.  Back

   This is the back section

Authors' Addresses

   Brian Ketelsen

   Email: bketelsen@gmail.com


   Erik St. Martin

   Email: alakriti@gmail.com


   R. (Miek) Gieben

   Email: miek@miek.nl
   URI:   http://miek.nl






Ketelsen, et al.          Expires July 24, 2014                 [Page 3]
